<!DOCTYPE html>
<html lang="pl">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Tworzenie Katalogu</title>
		<link rel="stylesheet" th:href="@{/css/catalogs.css}" />
		<script src="https://kit.fontawesome.com/30b5c3e166.js" crossorigin="anonymous"></script>

		<link th:rel="stylesheet" th:href="@{~/webjars/bootstrap/5.1.3/css/bootstrap.css}"/>
		<script th:src="@{~/webjars/bootstrap/5.1.3/js/bootstrap.js}"></script>
	</head>
	<body>
		<div class="container">
			<div class="sidebar">
				<h1 class="note">Note<span class="ally">ally</span></h1>
				<div class="side-wrapper">
					<div class="side-title">SORTOWANIE</div>
					<div class="side-menu">
						<a th:href="@{'/' + ${user.getId()} + '/catalogs/ASC' }" th:value="1" th:text="'Alfabetycznie A-Z'"></a>
						<a th:href="@{'/' + ${user.getId()} + '/catalogs/DESC' }" th:value="2" th:text="'Alfabetycznie Z-A'"></a>
					</div>
				</div>
				<div class="line"></div>
				<div class="add-note anim" style="--delay: 0.2s">
					<a th:href="@{'/' + ${user.getId()} + '/catalogs/' + 'createCatalog'}"
						><i class="fa-solid fa-folder-plus"></i
					></a>
				</div>
			</div>
			<div class="wrapper">
				<div class="header">
					<nav class="nav">
						<a th:href="@{'/' + ${user.getId()} + '/catalogs'}" class="nav-item is-active" active-color="pink">Katalogi</a>
						<a th:href="@{/login}" class="nav-item" active-color="pink">Wyloguj Sie!</a>
						<span class="nav-indicator"></span>
					</nav>
				</div>
				<div class="main-container">
					<div class="anim main-catalog" style="--delay: 0.1s">
						<ul th:each="catalog : ${catalogs}">
							<div class="container-catalog">
								<li>
									<i class="fa-solid fa-folder"></i>
									<a
										th:href="@{'/' + ${catalog.getUser().getId()} + '/catalogs/' + ${catalog.getId()}}"
										th:text="${catalog.getName()}"
										>Nazwa Katalogu</a
									>
								</li>
								<a th:href="@{'/' + ${user.getId()} + '/catalogs/' + 'deleteCatalog/' + ${catalog.getId()}}"
									><i class="fa-solid fa-xmark"></i
								></a>

								<a th:href="@{'/' + ${user.getId()} + '/catalogs/' + 'editCatalog/' + ${catalog.getId()}}"
									><i class="fa-regular fa-pen-to-square"></i
								></a>
							</div>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div class="create-catalog">
			<div class="box-catalog">
				<form th:action="@{'/' + ${user.id} + '/catalogs/' + 'createCatalog'}" th:method="post" th:object="${catalog}">
					<h2 class="note">Tworzenie <span class="ally">Katalogu</span></h2>
					<div class="input-box">
						<input type="text" id="name" name="name" th:field="*{name}" />
						<label for="name" id="name-label">Nazwa Katalogu </label>
					</div>

					<div th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="alert alert-danger" role="alert">
						        <ul>
						          <li th:each="error : ${#fields.errors('name')}" th:text="${error}"></li>
						        </ul>
					</div>
					<button type="submit">Utw√≥rz Katalog</button>
				</form>
			</div>
		</div>

		<script type="text/javascript" th:src="@{/js/catalogs.js}"></script>
	</body>
</html>
